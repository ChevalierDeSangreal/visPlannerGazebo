# 目标轨迹发布器参数配置
# 参考 Elastic-Tracker 的配置
# 支持同时发布多种格式，适配不同的控制方法

# 轨迹模式
# 0: STATIC (静止)
# 1: CIRCLE (圆周运动)
# 2: FIGURE_EIGHT (8字运动)
mode: 1

# 发布频率
timer_period: 0.02     # 发布周期 [s] (50Hz)

# 话题配置
# visPlanner 需要 nav_msgs/Odometry 类型的目标话题
elastic_target_topic: "/target/odom"  # visPlanner目标话题名
# 同时自动发布到 /target/position 和 /target/velocity

# === 静止模式参数 ===
static_x: 2.0          # 静止位置X [m]
static_y: 0.0          # 静止位置Y [m]
static_z: 1.5          # 静止位置Z [m]

# === 通用轨迹参数（用于8字和D型，圆形轨迹也保留以保持一致性）===
# NOTE: Drone GOTO position is at trajectory_center
# Target starting point should be 1m in front of drone (at trajectory_center + [1.0, 0, 0])
trajectory_size: 2.0         # Trajectory size [m] (radius for circle, scale for figure8/d_shape)
trajectory_center_x: 0.0     # Trajectory center East position (ENU) [m] - Drone GOTO position
trajectory_center_y: 0.0     # Trajectory center North position (ENU) [m]
trajectory_center_z: 1.2     # Trajectory center Up position (ENU, positive is up) [m]
trajectory_times: 1          # Number of trajectory cycles
trajectory_duration: 6.0     # Single trajectory cycle duration [s]

# === 圆周模式参数 ===
# Circle center adjusted so starting point (with init_phase=0) is 1m ahead of drone
# Starting point = circle_center + [R, 0] = trajectory_center + [1, 0]
# So: circle_center = trajectory_center - [R-1, 0] = [0, 0] - [1, 0] = [-1, 0]
circle_radius: 2.0           # Circular trajectory radius [m]
circle_center_x: -1.0        # Circle center East position (ENU) [m] - offset to make start at drone+1m
circle_center_y: 0.0         # Circle center North position (ENU) [m]
circle_center_z: 1.2         # Circle center Up position (ENU, positive is up) [m]
circle_init_phase: 0.0       # Initial phase angle [rad] - 0 means start at [R, 0] relative to center
circle_times: 1              # Number of circles
circle_duration: 6.0         # Single circle duration [s]

# === 运动参数 ===
ramp_up_time: 3.0            # Acceleration time [s]
ramp_down_time: 3.0          # Deceleration time [s]
stationary_time: 3.0         # Initial stationary time [s] (time to stay at initial position before motion starts)
                             # Initial position is 1m in front of trajectory center (along +x direction in ENU)
motion_duration: -1.0        # 总运动时长 [s]，-1 表示无限制（超过此时长后停止发布，visPlanner特有参数）

# Control parameters
max_speed: -1.0              # Maximum linear speed limit [m/s] (negative value means no limit)

